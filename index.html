<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <title>Document</title>
</head>
<body>
  <form id="expenseForm">
    <label>Choose Expense Amount : </label>
    <input type="number" id="amountInput">
    <label>Choose Description : </label>
    <input type="text" id="descriptionInput">
    <label>Choose A Category : </label>
    <select name="category" id="categorySelect">
      <option value="Travelling">Travelling</option>
      <option value="Movies">Movies</option>
      <option value="Party">Party</option>
      <option value="Study Material">Study Material</option>
    </select>
    <input type="submit" value="Submit">
  </form>

  <div id="displayData"></div>

  <script>
    function appendExpenseEntry(amount, description, category) {
      const expenseEntry = document.createElement('div');
      expenseEntry.classList.add('expense-entry');

      const expenseDetails = document.createElement('p');
      expenseDetails.innerHTML = `<strong>Amount:</strong> $${amount}, <strong>Description:</strong> ${description}, <strong>Category:</strong> ${category}`;

      const editButton = document.createElement('button');
      editButton.textContent = 'Edit';

      const deleteButton = document.createElement('button');
      deleteButton.textContent = 'Delete';

      editButton.addEventListener('click', () => {
        amountInput.value = amount;
        descriptionInput.value = description;
        categorySelect.value = category;
      });

      deleteButton.addEventListener('click', () => {
        displayData.removeChild(expenseEntry);
      });

      expenseEntry.appendChild(expenseDetails);
      expenseEntry.appendChild(editButton);
      expenseEntry.appendChild(deleteButton);

      displayData.appendChild(expenseEntry);
    }

    document.getElementById('expenseForm').addEventListener('submit', function (e) {
      e.preventDefault(); // Prevent the default form submission

      const amount = amountInput.value;
      const description = descriptionInput.value;
      const category = categorySelect.value;

      appendExpenseEntry(amount, description, category);

      amountInput.value = '';
      descriptionInput.value = '';
      categorySelect.value = 'Travelling'; // Reset the category select
    });

    window.onload = () => {
      const savedData = JSON.parse(localStorage.getItem('expenses')) || [];
      savedData.forEach(({ amount, description, category }) => {
        appendExpenseEntry(amount, description, category);
      });
    };
  </script>
</body>
</html>
